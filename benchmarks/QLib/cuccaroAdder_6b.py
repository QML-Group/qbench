from openql import openql as ql
import os
import numpy as np
curdir = os.path.dirname(__file__)
output_dir = os.path.join(curdir, 'test_output')
ql.set_output_dir(output_dir)
config_fn = os.path.join(curdir, '/home/daniel/Master/Quantum_Computing_and_Quantum_Information/OpenQL/tests/hardware_config_cc_light.json')
platform  = ql.Platform('platform_none', config_fn)
sweep_points = [1,2]
num_circuits = 1
num_qubits = 15
p = ql.Program('cuccaroAdder_6b', num_qubits, platform)
p.set_sweep_points(sweep_points, num_circuits)
k = ql.Kernel('cuccaroAdder_6b', platform)
k.gate('cnot',1b0)
k.gate('cnot',1c0)
k.gate('toffoli',0b0,a0)
k.gate('cnot',3b1)
k.gate('cnot',3a0)
k.gate('toffoli',1b1,a1)
k.gate('cnot',5b2)
k.gate('cnot',5a1)
k.gate('toffoli',3b2,a2)
k.gate('cnot',7b3)
k.gate('cnot',7a2)
k.gate('toffoli',5b3,a3)
k.gate('cnot',9b4)
k.gate('cnot',9a3)
k.gate('toffoli',7b4,a4)
k.gate('cnot',11b5)
k.gate('cnot',11a4)
k.gate('toffoli',9b5,a5)
k.gate('cnot',11z)
k.gate('toffoli',9b5,a5)
k.gate('cnot',11a4)
k.gate('cnot',9b5)
k.gate('toffoli',7b4,a4)
k.gate('cnot',9a3)
k.gate('cnot',7b4)
k.gate('toffoli',5b3,a3)
k.gate('cnot',7a2)
k.gate('cnot',5b3)
k.gate('toffoli',3b2,a2)
k.gate('cnot',5a1)
k.gate('cnot',3b2)
k.gate('toffoli',1b1,a1)
k.gate('cnot',3a0)
k.gate('cnot',1b1)
k.gate('toffoli',0b0,a0)
k.gate('cnot',1c0)
k.gate('cnot',0b0)
p.add_kernel(k)
p.compile(optimize=False)
